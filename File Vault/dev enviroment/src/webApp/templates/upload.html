<!DOCTYPE html>
<html lang="en"><head>
    <header>
      <meta http-equiv="refresh" content="120">
        <meta charset="UTF-8">
        <title>Vault - Upload</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="./static/css/upload.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.4.0/min/dropzone.min.css"/>
        <script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.4.0/min/dropzone.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.4.0/min/basic.min.css"/>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
        <link rel="icon" type="image/png" href="/static/images/shield_logo.png">
        <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap" rel="stylesheet">
      </header>
  
  <style id="detectElementResize" type="text/css">@keyframes resizeanim { from { opacity: 0; } to { opacity: 0; } } .resize-triggers { animation: 1ms resizeanim; visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }</style></head>
  <body>
    <div class="container">
        <div class="bcu be-app-element be" id="bcu_1">
           <div class="bcu-droppable-content">
            <form method="POST" action='/uploadcontent' class="dropzone dz-clickable" id="dropper" enctype="multipart/form-data">
              <div>
                <svg class="upload-empty-state " height="55" viewBox="0 0 46 55" width="46" focusable="false" role="presentation">
                   <path d="M1,52V3A2,2,0,0,1,3,1H30.91a2,2,0,0,1,1.41.59L44.41,13.68A2,2,0,0,1,45,15.09V52a2,2,0,0,1-2,2H3A2,2,0,0,1,1,52Z" fill="#fff"></path>
                   <path class="fill-color" d="M45.12,13,33,.88A3,3,0,0,0,30.91,0H3A3,3,0,0,0,0,3V52a3,3,0,0,0,3,3H43a3,3,0,0,0,3-3V15.09A3,3,0,0,0,45.12,13ZM43,53H3a1,1,0,0,1-1-1V3A1,1,0,0,1,3,2H30V13a3,3,0,0,0,3,3H44V52A1,1,0,0,1,43,53Z" fill="#347acf"></path>
                   <path class="fill-color" d="M21,29v4a1,1,0,0,0,.91,1h2.18A1,1,0,0,0,25,33V29h2.74a1,1,0,0,0,.76-1.65l-4.83-5.62a1,1,0,0,0-1.41-.11l-.11.11-4.82,5.62A1,1,0,0,0,18.09,29Z" fill="#347acf"></path>
                   <polyline class="stroke-color" fill="none" points="13 36 13 39 33 39 33 36" stroke="#347acf" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></polyline>
                </svg>
             </div>
            </form>
            <script type="application/javascript">
              Dropzone.options.dropper = {
                  paramName: 'file',
                  chunking: true,
                  forceChunking: true,
                  url: '/uploadcontent',
                  maxFilesize: 1000, // megabytes
                  chunkSize: 100000, // bytes
                  init: function() {
                      this.on("sending", function(file, xhr, formData) {
                        formData.append("destURL", window.location.href);
                      });
                      this.on("complete", function (file) {
                        if (this.getQueuedFiles().length === 0 && this.getQueuedFiles().length === 0) {
                          setTimeout(function(){
                            window.location.reload(1);
                         }, 5000);
                        }
                      });
                  }
                  
              }
          </script>
           </div>
        </div>
     </div>
  </body>
</html>